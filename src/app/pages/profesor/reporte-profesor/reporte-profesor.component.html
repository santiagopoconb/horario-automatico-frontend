<div class="main-container">
  <!-- Header -->
  <header class="header">
    <div class="header-left">
      <div class="logo-placeholder">UMG</div>
      <h1>UMG de Colores</h1>
    </div>
    <div class="header-right">
      <span class="user-name">{{ nombreUsuario }}</span>
    </div>
  </header>

  <div class="content-wrapper">
    <!-- Sidebar -->
    <aside class="sidebar">
      <nav>
        <!--<a class="nav-item" (click)="navegarInicio()">
          <span class="icon">🏠</span><span>Inicio</span>
        </a>
        <a class="nav-item" (click)="navegarAgregarEstudiante()">
          <span class="icon">👤</span><span>Agregar Estudiante</span>
        </a>
        <a class="nav-item" (click)="navegarAgregarCatedratico()">
          <span class="icon">👨‍🏫</span><span>Catedráticos</span>
        </a>-->
        <a class="nav-item" (click)="navegarAsignacion()">
          <span class="icon">📋</span><span>Asignación</span>
        </a>
        <a class="nav-item active" (click)="navegarReportes()">
          <span class="icon">📊</span><span>Reportes</span>
        </a>
        <a (click)="cerrarSesion()" class="nav-item"><span class="icon">🚪</span><span>Cerrar Sesión</span></a>
      </nav>
    </aside>

    <!-- Main -->
    <main class="main-content">
      <div class="reportes-container">

        <div class="reporte-header">
            <h2 class="page-title">Reporte de Alumnos por Salón</h2>
            <div class="botones-descarga">
                <div class="botones-derecha">
                      <button class="btn-descargar btn-excel" (click)="descargarExcel()">📊 Descargar Excel</button>
                      <button class="btn-descargar btn-pdf" (click)="descargarPdf()">📄 Descargar PDF</button>
                </div>
              </div>
        </div>


        <!-- Loading -->
        <div *ngIf="cargando" class="loading">Cargando reporte...</div>

        <!-- Error -->
        <div *ngIf="error" class="error-message">{{ error }}</div>

        <!-- Tablas por salón -->
        <div *ngIf="!cargando && !error && salones.length > 0" class="salones-container">
          <div *ngFor="let salon of salones; let i = index" class="salon-seccion">
            <h3 class="salon-titulo">{{ salon.nombreSalon }}</h3>
            <table class="tabla-reporte">
              <thead>
                <tr>
                  <th>No.</th>
                  <th>Carné</th>
                  <th>Nombre Completo</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let alumno of salon.alumnos; let j = index">
                  <td>{{ correlativo(j) }}</td>
                  <td>{{ alumno.carne }}</td>
                  <td>{{ alumno.nombreCompleto }}</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="paginacion" *ngIf="totalPaginas > 1">
            <button class="btn-paginacion" (click)="anteriorPagina()" [disabled]="paginaActual === 0">
              ← Anterior
            </button>
            <span class="info-paginacion">
              Página {{ paginaActual + 1 }} de {{ totalPaginas }}
              ({{ totalElementos }} salones)
            </span>
            <button class="btn-paginacion" (click)="siguientePagina()" [disabled]="paginaActual >= totalPaginas - 1">
              Siguiente →
            </button>
          </div>
        </div>

        <div *ngIf="!cargando && !error && salones.length === 0" class="sin-datos">
          No hay datos disponibles.
        </div>
      </div>
    </main>
  </div>
</div>
